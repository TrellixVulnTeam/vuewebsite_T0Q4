{"remainingRequest":"/Users/sylvia/myproject/mysite/ff/node_modules/babel-loader/lib/index.js!/Users/sylvia/myproject/mysite/ff/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sylvia/myproject/mysite/ff/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sylvia/myproject/mysite/ff/src/components/products/edit/ProductEditComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sylvia/myproject/mysite/ff/src/components/products/edit/ProductEditComponent.vue","mtime":1636512754000},{"path":"/Users/sylvia/myproject/mysite/ff/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sylvia/myproject/mysite/ff/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sylvia/myproject/mysite/ff/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sylvia/myproject/mysite/ff/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N5bHZpYS9teXByb2plY3QvbXlzaXRlL2ZmL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBGaWVsZCwgRm9ybSwgRXJyb3JNZXNzYWdlIH0gZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGaWVsZDogRmllbGQsCiAgICBGb3JtOiBGb3JtLAogICAgRXJyb3JNZXNzYWdlOiBFcnJvck1lc3NhZ2UKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5mZXRjaERldGFpbFByb2R1Y3QodGhpcy5pZCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImlzVXBkYXRpbmciLCAidXBkYXRlZERhdGEiLCAicHJvZHVjdCIsICJpc0xvYWRpbmciXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbInVwZGF0ZVByb2R1Y3QiLCAidXBkYXRlUHJvZHVjdElucHV0IiwgImZldGNoRGV0YWlsUHJvZHVjdCJdKSksIHt9LCB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9kdWN0ID0gdGhpcy5wcm9kdWN0LAogICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9kdWN0LnRpdGxlLAogICAgICAgICAgcHJpY2UgPSBfdGhpcyRwcm9kdWN0LnByaWNlLAogICAgICAgICAgZGVzY3JpcHRpb24gPSBfdGhpcyRwcm9kdWN0LmRlc2NyaXB0aW9uOyAvLyByZXR1cm4gZmFsc2U7CgogICAgICB0aGlzLnVwZGF0ZVByb2R1Y3QoewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLAogICAgICAgIHVzZXJfaWQ6IDEKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlUHJvZHVjdElucHV0QWN0aW9uOiBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0SW5wdXRBY3Rpb24oZSkgewogICAgICB0aGlzLnVwZGF0ZVByb2R1Y3RJbnB1dChlKTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgdXBkYXRlZERhdGE6IGZ1bmN0aW9uIHVwZGF0ZWREYXRhKCkgewogICAgICBpZiAodGhpcy51cGRhdGVkRGF0YSAhPT0gbnVsbCAmJiAhdGhpcy5pc1VwZGF0aW5nKSB7CiAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICAgIHRleHQ6ICJTdWNjZXNzLCBQcm9kdWN0IGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5ICEiLAogICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHRpbWVyOiAxMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIlByb2R1Y3RzIgogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAvLyBEZWZpbmUgYSB2YWxpZGF0aW9uIHNjaGVtYQogICAgdmFyIHNjaGVtYSA9IHl1cC5vYmplY3QoewogICAgICB0aXRsZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCkubWluKDUpLAogICAgICBwcmljZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCksCiAgICAgIGRlc2NyaXB0aW9uOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoKS5taW4oNSkKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2NoZW1hOiBzY2hlbWEKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/sylvia/myproject/mysite/ff/src/components/products/edit/ProductEditComponent.vue"],"names":[],"mappings":";;;AAmFA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,SAAS,KAAT,EAAgB,IAAhB,EAAsB,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AAEA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,EAAE,EAAE;AADC,KAAP;AAGD,GALY;AAMb,EAAA,UAAU,EAAE;AACV,IAAA,KAAK,EAAL,KADU;AAEV,IAAA,IAAI,EAAJ,IAFU;AAGV,IAAA,YAAY,EAAZ;AAHU,GANC;AAYb,EAAA,OAAO,EAAE,mBAAY;AACnB,SAAK,EAAL,GAAU,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAA7B;AACA,SAAK,kBAAL,CAAwB,KAAK,EAA7B;AACD,GAfY;AAiBb,EAAA,QAAQ,oBAAO,UAAU,CAAC,CAAC,YAAD,EAAe,aAAf,EAA8B,SAA9B,EAAyC,WAAzC,CAAD,CAAjB,CAjBK;AAmBb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,eAAD,EAAkB,oBAAlB,EAAwC,oBAAxC,CAAD,CADR;AAEL,IAAA,QAFK,sBAEM;AAAA,0BAC6B,KAAK,OADlC;AAAA,UACD,KADC,iBACD,KADC;AAAA,UACM,KADN,iBACM,KADN;AAAA,UACa,WADb,iBACa,WADb,EAET;;AACA,WAAK,aAAL,CAAmB;AACjB,QAAA,EAAE,EAAE,KAAK,EADQ;AAEjB,QAAA,KAAK,EAAE,KAFU;AAGjB,QAAA,KAAK,EAAE,KAHU;AAIjB,QAAA,KAAK,EAAE,IAJU;AAKjB,QAAA,WAAW,EAAE,WALI;AAMjB,QAAA,OAAO,EAAE;AANQ,OAAnB;AAQD,KAbI;AAcL,IAAA,wBAdK,oCAcoB,CAdpB,EAcuB;AAC1B,WAAK,kBAAL,CAAwB,CAAxB;AACD;AAhBI,IAnBM;AAsCb,EAAA,KAAK,EAAE;AACL,IAAA,WAAW,EAAE,uBAAY;AACvB,UAAI,KAAK,WAAL,KAAqB,IAArB,IAA6B,CAAC,KAAK,UAAvC,EAAmD;AACjD,aAAK,KAAL,CAAW,IAAX,CAAgB;AACd,UAAA,IAAI,EAAE,kDADQ;AAEd,UAAA,IAAI,EAAE,SAFQ;AAGd,UAAA,QAAQ,EAAE,SAHI;AAId,UAAA,KAAK,EAAE;AAJO,SAAhB;AAOA,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACF;AACD;AAZI,GAtCM;AAqDb,EAAA,KArDa,mBAqDL;AACN;AACA,QAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,CAAW;AACxB,MAAA,KAAK,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,GAAwB,GAAxB,CAA4B,CAA5B,CADiB;AAExB,MAAA,KAAK,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,EAFiB;AAGxB,MAAA,WAAW,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,GAAwB,GAAxB,CAA4B,CAA5B;AAHW,KAAX,CAAf;AAMA,WAAO;AACL,MAAA,MAAM,EAAN;AADK,KAAP;AAGD;AAhEY,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h6>Edit Product</h6>\n      </div>\n      <div class=\"card-body\">\n        <Form @submit=\"onSubmit\" :validation-schema=\"schema\">\n          <div v-if=\"isLoading\">\n            <div class=\"text-center\">\n              <div class=\"spinner-border text-primary\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n              <br />\n              Loading Product Details\n            </div>\n          </div>\n          <div v-if=\"product !== null && !isLoading\">\n            <div class=\"form-group row\">\n              <div class=\"col-6\">\n                <label>Product Name:</label>\n                <Field\n                  id=\"title\"\n                  name=\"title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :value=\"product.title\"\n                  @input=\"updateProductInputAction\"\n                />\n                <ErrorMessage name=\"title\" class=\"text-danger\" />\n              </div>\n              <div class=\"col-6\">\n                <label>Product Price:</label>\n                <Field\n                  name=\"price\"\n                  type=\"number\"\n                  class=\"form-control\"\n                  :value=\"product.price\"\n                  @input=\"updateProductInputAction\"\n                />\n                <ErrorMessage name=\"price\" class=\"text-danger\" />\n              </div>\n            </div>\n            <div class=\"form-group row\">\n              <div class=\"col-12\">\n                <label>Product Details:</label>\n                <Field\n                  name=\"description\"\n                  as=\"textarea\"\n                  class=\"form-control\"\n                  :value=\"product.description\"\n                  @input=\"updateProductInputAction\"\n                />\n                <ErrorMessage name=\"description\" class=\"text-danger\" />\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <router-link to=\"/products\" class=\"btn btn-secondary mr-2\"\n                >Cancel</router-link\n              >\n              <input\n                type=\"submit\"\n                class=\"btn btn-primary\"\n                value=\"Save Update\"\n                v-if=\"!isUpdating\"\n              />\n              <button class=\"btn btn-primary\" type=\"button\" disabled v-if=\"isUpdating\">\n                <span\n                  class=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n                Saving...\n              </button>\n            </div>\n          </div>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { Field, Form, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  data() {\n    return {\n      id: null,\n    };\n  },\n  components: {\n    Field,\n    Form,\n    ErrorMessage,\n  },\n\n  created: function () {\n    this.id = this.$route.params.id;\n    this.fetchDetailProduct(this.id);\n  },\n\n  computed: { ...mapGetters([\"isUpdating\", \"updatedData\", \"product\", \"isLoading\"]) },\n\n  methods: {\n    ...mapActions([\"updateProduct\", \"updateProductInput\", \"fetchDetailProduct\"]),\n    onSubmit() {\n      const { title, price, description } = this.product;\n      // return false;\n      this.updateProduct({\n        id: this.id,\n        title: title,\n        price: price,\n        image: null,\n        description: description,\n        user_id: 1,\n      });\n    },\n    updateProductInputAction(e) {\n      this.updateProductInput(e);\n    },\n  },\n\n  watch: {\n    updatedData: function () {\n      if (this.updatedData !== null && !this.isUpdating) {\n        this.$swal.fire({\n          text: \"Success, Product has been updated successfully !\",\n          icon: \"success\",\n          position: \"top-end\",\n          timer: 1000,\n        });\n\n        this.$router.push({ name: \"Products\" });\n      }\n    },\n  },\n\n  setup() {\n    // Define a validation schema\n    const schema = yup.object({\n      title: yup.string().required().min(5),\n      price: yup.string().required(),\n      description: yup.string().required().min(5),\n    });\n\n    return {\n      schema,\n    };\n  },\n};\n</script>\n"],"sourceRoot":""}]}